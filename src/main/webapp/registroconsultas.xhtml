<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head></h:head>

    <h:body>
        <p:layout fullPage="true">
            <h:form id="registroConsultas">
                <p:layoutUnit position="west" style="min-width:400px;min-height:200px;">
                    <p:panel header="Registar Consulta" style="margin-bottom:20px">
                        <h:panelGrid columns="2" rowClasses="4">
                            <h:outputText value="Fecha y Hora: "/>
                            <p:calendar value="#{HistorialPacientes.fechayHora}" pattern="MM/dd/yyyy HH:mm"/>
                            <h:outputText value="Resumen consulta: "/>
                            <p:inputText value="#{HistorialPacientes.resumen}"/>
                            <h:outputText value="Costo consulta: "/>
                            <p:inputText value="#{HistorialPacientes.costo}"/>
                            <p:growl id="message" showDetail="true" />
                            <p:commandButton value="Registrar consulta" actionListener="#{HistorialPacientes.registrarConsulta()}" update="tablaConsultas,message"/>
                        </h:panelGrid>
                    </p:panel>
                </p:layoutUnit>
                <p:layoutUnit id="tabla_Consultas" position="center">
                    <p:panel header="Consultas del pacientes" style="margin-bottom:20px">
                        <p:dataTable id="tablaConsultas" rowIndexVar="fila" var="consulta" value="#{HistorialPacientes.consultas}" rowKey="#{consulta}" >
                            <p:column headerText="Fecha y Hora">
                                <h:outputText value="#{consulta.fechayHora}" />
                            </p:column>
                            <p:column headerText="Resumen">
                                <h:outputText value="#{consulta.resumen}" />
                            </p:column>
                            <p:column headerText="Costo" >
                                <h:outputText value="#{consulta.costo}"/>
                            </p:column>
                        </p:dataTable>
                    </p:panel>
                </p:layoutUnit>
            </h:form>
        </p:layout>
    </h:body>

</html>
